<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Tropical Flow RadioTv Cristiana</title>
  <meta name="description" content="Tropical Flow RadioTv Cristiana ‚Äî M√∫sica y mensajes para honrar a Dios.">
  <style>
    :root{--bg:#fffaf0;--accent:#2b6cb0;--muted:#6b7280;--card:#ffffff}
    *{box-sizing:border-box}
    body{
      font-family:Inter,system-ui,Arial,Helvetica,sans-serif;
      color:#222;
      margin:0;
      background: url('https://i.ibb.co/gFqJj1B/celestial-bg.png') no-repeat center center fixed;
      background-size: cover;
      background-attachment: fixed;
      background-color: #fffaf0;
    }
    header{background:rgba(255,255,255,0.85);padding:22px 18px;border-bottom:1px solid #eee}
    .container{max-width:1100px;margin:0 auto;padding:20px}
    .brand{display:flex;gap:14px;align-items:center}
    .logo{width:64px;height:64px;border-radius:12px;background:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--accent);box-shadow:0 6px 18px rgba(43,108,176,0.08)}
    h1{margin:0;font-size:20px}
    p.lead{margin:4px 0 0;color:var(--muted)}
    main{display:grid;grid-template-columns:1fr;gap:18px;margin-top:18px}
    .card{background:rgba(255,255,255,0.9);padding:14px;border-radius:12px;box-shadow:0 6px 18px rgba(16,24,40,0.04);border:1px solid #f0e9df}
    .player{display:flex;flex-direction:column;gap:10px}
    .controls{display:flex;gap:10px;align-items:center}
    .btn{background:var(--accent);color:#fff;border:none;padding:10px 14px;border-radius:10px;cursor:pointer}
    .btn.secondary{background:transparent;color:var(--accent);border:1px solid var(--accent)}
    .playlist{display:flex;flex-direction:column;gap:8px}
    .track{display:flex;justify-content:space-between;align-items:center;padding:8px;border-radius:8px;background:linear-gradient(180deg,#fff,#fff);border:1px solid #f6efe6}
    .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:14px}
    .full{grid-column:1/-1}
    footer{padding:18px;text-align:center;color:var(--muted);font-size:14px}
    @media(min-width:800px){main{grid-template-columns:2fr 1fr}}
  </style>
</head>
<body>
  <header>
    <div class="container brand">
      <div class="logo">TF</div>
      <div>
        <h1>Tropical Flow RadioTv Cristiana ‚úùÔ∏è</h1>
        <p class="lead">M√∫sica cristiana, predicaciones y oraci√≥n ‚Äî Dedicado a Dios üôè</p>
      </div>
    </div>
  </header>  

  <main class="container">
    <!-- PLAYER -->
    <section class="card">
      <h2>üé∂ Reproductor ‚Äî En vivo / AutoDJ</h2>
      <p class="lead">Usa el bot√≥n Reproducir para escuchar la transmisi√≥n en vivo. Si tienes archivos MP3, s√∫belos a la lista y √∫salos como reproducci√≥n local.</p>
      <div class="player">
        <audio id="stream" controls preload="none">
          <source id="streamSource" src="https://your-stream-url.example/stream.mp3" type="audio/mpeg">
          Tu navegador no soporta audio en l√≠nea.
        </audio>
        <div class="controls">
          <button id="playStream" class="btn">Play Transmisi√≥n</button>
          <button id="stopStream" class="btn secondary">Detener</button>
          <div style="margin-left:auto;color:var(--muted)">Conectados: <span id="listeners">‚Äî</span></div>
        </div>

        <hr>
        <h3>Playlist local (sube MP3)</h3>
        <input id="fileInput" type="file" accept="audio/*" multiple>
        <div class="playlist" id="playlist"></div>
      </div>
    </section>

    <!-- DONAR / CONTACTO -->
    <aside class="card">
      <h3>üíñ Donar / Soporte</h3>
      <p>Si deseas apoyar la emisora, puedes usar PayPal:</p>
      <form action="https://www.paypal.com/donate" method="post" target="_blank">
        <input type="hidden" name="business" value="Cartagenajose1970@hotmail.com">
        <input type="hidden" name="item_name" value="Donaci√≥n para Tropical Flow RadioTv Cristiana">
        <input type="hidden" name="currency_code" value="USD">
        <button type="submit" class="btn">Donar con PayPal</button>
      </form>

      <hr>
      <h3>‚è∞ Programaci√≥n</h3>
      <ul>
        <li><strong>06:00 - 09:00</strong> ‚Äî M√∫sica de alabanza</li>
        <li><strong>12:00 - 13:00</strong> ‚Äî Mensaje del d√≠a</li>
        <li><strong>18:00 - 20:00</strong> ‚Äî M√∫sica contempor√°nea</li>
      </ul>

      <hr>
      <h3>üìû Contacto</h3>
      <p>Correo: <a href="mailto:cartajo1970@gmail.com">cartajo1970@gmail.com</a></p>
      <p>WhatsApp: <a href="https://wa.me/17873133929" target="_blank">+1 939-902-9695</a></p>
    </aside>

    <!-- VIDEOS CRISTIANOS -->
    <section class="card full">
      <h2>üé• Videos Cristianos Gratis</h2>
      <p>Adoraciones y alabanzas seleccionadas para llenar tu d√≠a de paz üôè</p>
      <div class="grid">
        <div style="aspect-ratio:16/9;overflow:hidden;border-radius:8px;border:1px solid #efe7d8">
          <iframe width="100%" height="100%" src="https://www.youtube.com/embed/IJNR2EpS0jw" title="Alabanzas a Dios" frameborder="0" allowfullscreen></iframe>
        </div>
        <div style="aspect-ratio:16/9;overflow:hidden;border-radius:8px;border:1px solid #efe7d8">
          <iframe width="100%" height="100%" src="https://www.youtube.com/embed/s7jXasVQXUU" title="M√∫sica Cristiana Instrumental" frameborder="0" allowfullscreen></iframe>
        </div>
        <div style="aspect-ratio:16/9;overflow:hidden;border-radius:8px;border:1px solid #efe7d8">
          <iframe width="100%" height="100%" src="https://www.youtube.com/embed/NxYFt7UgW4A" title="Adoraci√≥n y Oraci√≥n" frameborder="0" allowfullscreen></iframe>
        </div>
      </div>
    </section>

    <!-- ORACI√ìN -->
    <section class="card full">
      <h3>üôè Oraci√≥n del d√≠a</h3>
      <div style="padding:10px;border-radius:8px;background:#fff;border:1px solid #f6efe6">
        <h4>Oraci√≥n de Luz y Paz</h4>
        <p>Padre amado, hoy vengo delante de Ti con un coraz√≥n agradecido. Te pido que derrames Tu luz sobre m√≠ y que sea reflejo de Tu paz para los dem√°s. En el nombre de Jes√∫s, am√©n.</p>
        <p style="font-size:13px;color:var(--muted)">Guarda esta oraci√≥n en tu tel√©fono y comp√°rtela con quien necesite consuelo hoy.</p>
        <button id="downloadPrayer" class="btn secondary">Descargar imagen</button>
      </div>
    </section>

    <!-- PODCAST -->
    <section class="card full">
      <h3>üéß Podcast / Episodios</h3>
      <p>Puedes subir tus predicaciones o reflexiones en MP3. En el futuro se puede integrar con Spotify o iVoox.</p>
    </section>

  </main>

  <footer>
    <div class="container">¬© 2025 Tropical Flow RadioTv Cristiana ‚Äî Dedicado a Dios. Creado con amor.</div>
  </footer>

  <script>
    const stream = document.getElementById('stream');
    const playBtn = document.getElementById('playStream');
    const stopBtn = document.getElementById('stopStream');
    const listeners = document.getElementById('listeners');
    playBtn.addEventListener('click', ()=>{stream.play().catch(()=>alert('No se pudo reproducir. Verifica la URL del stream.'));});
    stopBtn.addEventListener('click', ()=>{stream.pause(); stream.currentTime=0;});
    listeners.innerText = '‚Äî';

    // Playlist local
    const fileInput=document.getElementById('fileInput');
    const playlistEl=document.getElementById('playlist');
    let localPlayer=new Audio(); let tracks=[];
    function renderPlaylist(){
      playlistEl.innerHTML='';
      tracks.forEach((t,i)=>{
        const div=document.createElement('div');
        div.className='track';
        div.innerHTML=`<div style="max-width:70%">${t.name}</div><div><button data-i="${i}" class="btn secondary">Reproducir</button></div>`;
        playlistEl.appendChild(div);
      });
    }
    fileInput.addEventListener('change',(e)=>{
      const files=Array.from(e.target.files);
      files.forEach(f=>{const url=URL.createObjectURL(f);tracks.push({name:f.name,url});});
      renderPlaylist();
    });
    playlistEl.addEventListener('click',(e)=>{
      const btn=e.target.closest('button'); if(!btn)return;
      const i=Number(btn.dataset.i); if(Number.isFinite(i)){localPlayer.src=tracks[i].url;localPlayer.play();}
    });

    // Descargar oraci√≥n
    document.getElementById('downloadPrayer').addEventListener('click',()=>{
      const canvas=document.createElement('canvas');
      canvas.width=1200; canvas.height=1600;
      const ctx=canvas.getContext('2d');
      ctx.fillStyle='#fff7ee'; ctx.fillRect(0,0,canvas.width,canvas.height);
      ctx.fillStyle='#3b2f2f'; ctx.textAlign='center';
      ctx.font='bold 56px serif'; ctx.fillText('Oraci√≥n de Luz y Paz',canvas.width/2,110);
      ctx.font='22px serif';
      const text='Padre amado, hoy vengo delante de Ti con un coraz√≥n agradecido. Te pido que derrames Tu luz sobre m√≠ y que sea reflejo de Tu paz para los dem√°s. En el nombre de Jes√∫s, am√©n.';
      wrapText(ctx,text,canvas.width/2,180,900,34);
      const link=document.createElement('a'); link.download='oracion_de_luz_y_paz.png'; link.href=canvas.toDataURL('image/png'); link.click();
    });
    function wrapText(ctx,text,x,y,maxWidth,lineHeight){
      const words=text.split(' '); let line='';
      for(let n=0;n<words.length;n++){
        const testLine=line+words[n]+' '; const metrics=ctx.measureText(testLine);
        if(metrics.width>maxWidth&&n>0){ctx.fillText(line,x,y); line=words[n]+' '; y+=lineHeight;}
        else line=testLine;
      }
      ctx.fillText(line,x,y);
    }
  </script>
</body>
</html>
